/*-- scss:defaults --*/

$example-border-callout: #381885;
$example-background-callout: rgba(114,83,237,0.2);
$question-border-callout: #183385;
$question-background-callout: rgba(44,132,250,0.2);
$theorem-border-callout: #026e57;
$theorem-background-callout: rgba(65,214,147,0.2);

/* For preventing top cropping for high formulas */
.katex-display { 
  overflow: auto hidden ;
  padding-top: 1px;
  padding-bottom: 1px;
}  

/* For preventing tags to be hide/collapsed on small screens */
.katex-display {
  > .katex > .katex-html > .tag {
    padding-left: 10px !important;
    margin-left: 10px !important;
    right: 0 !important;

    @media (min-width: 613px) {
      position: absolute !important;
    }

    @media (max-width: 612px) {
      position: static !important;
    }
  }
}

  
/*-- scss:rules --*/

// figure display
.figure {
  text-align: center;
  text-indent: 0;
}

// Example callout styling
div.callout-example.callout {
  border-left-color: $example-border-callout;
  p{
    margin-bottom: 0px;
  }
}

div.callout-example.callout-style-default > .callout-header {
  background-color: $example-background-callout;
}

.callout-example > .callout-header::before {
  content: "ðŸ‘¨â€ðŸ«";
  margin-right: 10px;
}

// Theorem callout styling
div.callout-theorem.callout {
  border-left-color: $theorem-border-callout;
  p{
    margin-bottom: 0px;
  }
}

div.callout-theorem.callout-style-default > .callout-header {
  background-color: $theorem-background-callout;
}

.callout-theorem > .callout-header::before {
  content: "ðŸ¤“";
  margin-right: 10px;
}

// Question callout styling
div.callout-question.callout {
  border-left-color: $question-border-callout;
  p{
    margin-bottom: 0px;
  }
}

div.callout-question.callout-style-default > .callout-header {
  background-color: $question-background-callout;
}

.callout-question > .callout-header::before {
  content: "ðŸ¤”";
  margin-right: 10px;
}

// Answer callout styling
.callout-answer > .callout-header::before {
  content: "ðŸ”½";
  margin-right: 10px;
}

div.callout-answer.callout {
  border-left-color: #28828A;
  border: 0;
}

div.callout-answer.callout-style-default > .callout-header {
  background-color: transparent;
}

// Solution callout styling
.callout-solution > .callout-header::before {
  content: "ðŸ”½";
  margin-right: 10px;
}

div.callout-solution.callout {
  border-left-color: #28828A;
  border: 0;
}

div.callout-solution.callout-style-default > .callout-header {
  background-color: transparent;
}

// Hint callout styling
.callout-hint > .callout-header::before {
  content: "ðŸ”½";
  margin-right: 10px;
}

div.callout-hint.callout {
  border-left-color: #6c757d;
  border: 0;
}

div.callout-hint.callout-style-default > .callout-header {
  background-color: transparent;
}

// Proof callout styling
.callout-proof > .callout-header::before {
  content: "ðŸ”½";
  margin-right: 10px;
}

div.callout-proof.callout {
  border-left-color: #6c757d;
  border: 0;
}

div.callout-proof.callout-style-default > .callout-header {
  background-color: transparent;
}

.quarto-margin-footer {
  .margin-footer-item {
    #toggleSpoilers {
      font-size: 0.65rem;
      padding-left: 0px;
      padding-right: 0px;
      border-left-width: 0px;
      margin-left: -1px;
      margin-right: -1px;
    }
  }
}

.callout.callout-titled .callout-body>:last-child:not(.sourceCode), .callout.callout-titled .callout-body>div>:last-child:not(.sourceCode) {
  padding-bottom: .1rem;
  }

.callout {
  &.callout-style-default {
      &.no-icon {
          &.callout-titled {
              &.callout-proof,
              &.callout-answer,
              &.callout-solution {
                  margin-bottom: 0.1rem;
              }
          }
      }
  }
}

// For correct print 2 pdf (without sidebar and toc)
@media print {
  #quarto-sidebar, #quarto-margin-sidebar {
      display: none;
  }
  #quarto-document-content, #quarto-content {
      width: 100% !important;
      margin: 0 !important;
      padding: 0 !important;
      flex: none !important;
  }
  body, html {
      margin: 0 !important;
      padding: 0 !important;
  }
  .page-columns .content {
      grid-column: 1 / -1 !important; /* Takes up the full width of the grid */
      grid-row: 1 / -1 !important;   /* Takes up the full height of the grid */
      align-content: flex-start;
  }
}

// For custom responsive video
.responsive-video {
  position: relative;
  padding-bottom: 56.25%; /* Aspect ratio */
  padding-top: 25px;
  height: 0;
  
  .video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}

.table {
  max-width: 100%; // Limit the maximum width
  overflow-x: auto; // Add horizontal scrolling
  vertical-align: middle;
}

.navbar #quarto-search{
  margin-left: unset;
}

/* Remove obsolete margin before and after proofs */
div.callout-solution.callout-style-default,
div.callout-proof.callout-style-default,
div.callout-answer.callout-style-default {
  margin-top: 2px !important;
  margin-bottom: 2px !important;
}


#quarto-content>*{
  padding-top: 0px;
  margin-top: 0px;
}

#listing-team {
  .quarto-listing-container-grid {
    .list.grid {
      .g-col-1 {
        .quarto-grid-item.card {
          // Centering contents inside the card
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;

          .card-body.post-contents {
            // Centering the name and role text
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            
            .card-title.listing-title, p {
              text-align: center;
            }
          }
        }
      }
    }
  }
}

.g-col-1 .quarto-grid-item.card .card-img-top img.thumbnail-image.card-img {
  border-radius: 50% !important;
  height: 100% !important;
}

// Color palette
$primary: #6366f1;      // Indigo
$secondary: #8b5cf6;    // Purple
$accent: #ec4899;       // Pink

// Body background - white
body {
  background: white !important;
  min-height: 100vh;
}

// Main content area styling
.quarto-document-content {
  background: white !important;
  border-radius: 0.75rem !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08) !important;
  padding: 2rem !important;
  margin: 1rem !important;
}

// Headings with gradient
#quarto-content h1,
.quarto-document-content h1 {
  background: linear-gradient(135deg, $primary 0%, $secondary 100%) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
  font-weight: 700 !important;
  margin-bottom: 1.5rem !important;
}

#quarto-content h2,
.quarto-document-content h2 {
  color: $primary !important;
  font-weight: 600 !important;
  margin-top: 2rem !important;
  margin-bottom: 1rem !important;
  padding-bottom: 0.5rem !important;
  border-bottom: 2px solid rgba($primary, 0.3) !important;
}

// Links
#quarto-content a,
.quarto-document-content a {
  color: $primary !important;
  text-decoration: none !important;
  transition: all 0.2s ease !important;
  
  &:hover {
    color: $secondary !important;
    text-decoration: underline !important;
  }
}

// Sections with subtle background
section {
  margin-bottom: 2rem;
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba($primary, 0.05) 0%, rgba($secondary, 0.05) 100%);
  border-radius: 0.75rem;
  border-left: 4px solid $primary;
}

// Listing sections styling
#listing-team, #listing-materials {
  .quarto-listing-container-grid {
    .list.grid {
      .quarto-grid-item.card {
        transition: all 0.3s ease;
        border: 1px solid rgba($primary, 0.2);
        
        &:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 16px rgba($primary, 0.2);
          border-color: $primary;
        }
      }
    }
  }
}

// Button-style links
#quarto-content a[href*="program.md"],
.quarto-document-content a[href*="program.md"] {
  display: inline-block !important;
  padding: 1rem 2rem !important;
  background: linear-gradient(135deg, $primary 0%, $secondary 100%) !important;
  color: white !important;
  text-decoration: none !important;
  border-radius: 0.75rem !important;
  font-weight: 600 !important;
  transition: all 0.3s ease !important;
  box-shadow: 0 4px 12px rgba($primary, 0.3) !important;
  margin: 2rem 0 !important;
  
  &:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba($primary, 0.4) !important;
    color: white !important;
    text-decoration: none !important;
  }
}
